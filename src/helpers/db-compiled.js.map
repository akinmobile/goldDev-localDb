{"version":3,"sources":["db.js"],"names":[],"mappings":";;;;;QAEgB,a,GAAA,a;QAgBA,a,GAAA,a;QAqBA,gB,GAAA,gB;QA0BA,U,GAAA,U;;AAjEhB;;AAEO,SAAS,aAAT,CAAuB,GAAvB,EAA4B,MAA5B,EAAoC,MAApC,EAA4C,GAA5C,EAAiD,IAAjD,EAAuD,OAAvD,EAAgE,IAAhE,EAAsE,KAAtE,EAA6E,GAA7E,EAAkF;AACrF,QAAI,SAAS,+BAAe,WAAf,CAA2B,GAAxC;AACA,WAAO,eAAI,KAAJ,CAAU,WAAW,MAArB,EAA6B,KAA7B,CAAmC,KAAnC,EACN,MADM,CACC;AACA,aAAK,GADL;AAEA,gBAAQ,MAFR;AAGA,gBAAQ,MAHR;AAIA,aAAK,GAJL;AAKA,cAAM,IALN;AAMA,iBAAS,OANT;AAOA,cAAM,IAPN;AAQA,eAAO,KARP;AASA,aAAK;AATL,KADD,CAAP;AAYC;;AAEE,SAAS,aAAT,CAAuB,IAAvB,EAA4B;;AAE/B,QAAI,SAAS,+BAAe,WAAf,CAA2B,GAAxC;;AAEA,QAAI,aAAa,eAAI,KAAJ,CAAU,OAAV,EAAmB,KAAnB,CAAyB,MAAzB,EAAiC,KAAjC,CAAuC,QAAvC,CAAjB;;AAEA,QAAI,cAAc,WAAW,IAAX,GAAkB,GAApC;;AAEA,QAAI,WAAW,WAAW,KAAX,CAAiB,WAAjB,EAA8B,KAA9B,CAAoC,OAApC,EAA6C,IAA7C,GAAoD,GAAnE;;AAEA,eAAW,KAAX,CAAiB,WAAjB,EAA8B,KAA9B,CAAoC,OAApC,EAA6C,KAA7C,CAAmD,QAAnD,EAA6D,GAA7D,CAAiE,IAAjE,EAAsE,UAAU,MAAV,EAAkB;AACpF,gBAAQ,GAAR,CAAY,MAAZ;AACH,KAFD;;AAKA;;AAEA,eAAW,KAAX,CAAiB,WAAjB,EAA8B,KAA9B,CAAoC,KAApC,EAA2C,GAA3C,CAA+C,CAA/C;AACH;;AAGM,SAAS,gBAAT,CAA0B,IAA1B,EAAgC;AACnC,QAAI,UAAW,eAAI,KAAJ,CAAU,OAAV,EAAmB,IAAnB,GAA0B,GAAzC;AACA,mBAAI,KAAJ,CAAU,OAAV,EAAmB,KAAnB,CAAyB,OAAzB,EAAkC,GAAlC,CAAsC,IAAtC,EAA2C,UAAU,KAAV,EAAiB;AACxD,YAAG,SAAS,IAAZ,EAAiB;AACb,oBAAQ,GAAR,CAAY,yBAAZ;AACH;AACJ,KAJD;AAKH;;AAGD,SAAS,iBAAT,CAA2B,SAA3B,EAAsC,KAAtC,EAA6C;AACzC,cAAU,WAAV,CAAsB,UAAS,QAAT,EAAmB;AACrC,YAAI,QAAJ,EAAc;AACV,gBAAI,YAAY,CAAZ,IAAiB,YAAY,IAAjC,EAAuC;AACnC,2BAAW,KAAX;AACH,aAFD,MAEO;AACH,2BAAW,WAAW,KAAtB;AACH;AACJ,SAND,MAMK;AACD,uBAAW,WAAW,KAAtB;AACH;AACD,eAAO,QAAP;AACH,KAXD;AAYH;;AAGM,SAAS,UAAT,CAAoB,iBAApB,EAAuC;AAC1C,mBAAI,KAAJ,CAAU,OAAV,EAAmB,EAAnB,CAAsB,OAAtB,EAA8B,UAAU,QAAV,EAAoB;AAC9C,gBAAQ,GAAR,CAAY,QAAZ;AACA,0BAAkB,QAAlB;AACH,KAHD;AAIH","file":"db-compiled.js","sourcesContent":["import { ref, firebaseAuth } from '../config/constants'\n\nexport function writeUserData(cid, ccname, expiry, ccv, name, address, city, state, zip) {\n    var userId = firebaseAuth().currentUser.uid;\n    return ref.child('users/' + userId).child('cc1')\n    .update({\n            cid: cid,\n            ccname: ccname,\n            expiry: expiry,\n            ccv: ccv,\n            name: name,\n            address: address,\n            city: city,\n            state: state,\n            zip: zip,\n         })\n    }\n\nexport function saveUserOrder(item){\n\n    var userId = firebaseAuth().currentUser.uid;\n\n    var ordersNode = ref.child('users').child(userId).child('orders');\n\n    var newOrderKey = ordersNode.push().key;\n\n    var itemsKey = ordersNode.child(newOrderKey).child('items').push().key;\n\n    ordersNode.child(newOrderKey).child('items').child(itemsKey).set(item,function (status) {\n        console.log(status);\n    });\n\n\n    //updateTotalAmount(ordersNode.child(newOrderKey).child('total_amount'),item.price);\n\n    ordersNode.child(newOrderKey).child('tax').set(2);\n}\n\n\nexport function createDummyItems(item) {\n    var itemKey =  ref.child('items').push().key;\n    ref.child('items').child(itemKey).set(item,function (error) {\n        if(error == null){\n            console.log(\"Item Successfully added\");\n        }\n    });\n}\n\n\nfunction updateTotalAmount(amountRef, price) {\n    amountRef.transaction(function(oldValue) {\n        if (oldValue) {\n            if (oldValue == 0 || oldValue == null) {\n                oldValue = price\n            } else {\n                oldValue = oldValue + price\n            }\n        }else{\n            oldValue = oldValue + price\n        }\n        return oldValue;\n    });\n}\n\n\nexport function fetchItems(itemsFromDatabase) {\n    ref.child('items').on('value',function (snapshot) {\n        console.log(snapshot);\n        itemsFromDatabase(snapshot);\n    })\n}"]}